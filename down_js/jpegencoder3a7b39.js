define("biz_web/lib/webuploader/runtime/html5/jpegencoder.js",[],function(){
function r(r){
function n(r){
for(var n=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],a=0;64>a;a++){
var o=_((n[a]*r+50)/100);
1>o?o=1:o>255&&(o=255),C[L[a]]=o;
}
for(var f=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],e=0;64>e;e++){
var v=_((f[e]*r+50)/100);
1>v?v=1:v>255&&(v=255),z[L[e]]=v;
}
for(var t=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],i=0,u=0;8>u;u++)for(var c=0;8>c;c++)N[i]=1/(C[L[i]]*t[u]*t[c]*8),
S[i]=1/(z[L[i]]*t[u]*t[c]*8),i++;
}
function a(r,n){
for(var a=0,o=0,f=new Array,e=1;16>=e;e++){
for(var v=1;v<=r[e];v++)f[n[o]]=[],f[n[o]][0]=a,f[n[o]][1]=e,o++,a++;
a*=2;
}
return f;
}
function o(){
s=a(O,P),m=a(T,U),p=a(Q,R),j=a(V,W);
}
function f(){
for(var r=1,n=2,a=1;15>=a;a++){
for(var o=r;n>o;o++)q[32767+o]=a,k[32767+o]=[],k[32767+o][1]=a,k[32767+o][0]=o;
for(var f=-(n-1);-r>=f;f++)q[32767+f]=a,k[32767+f]=[],k[32767+f][1]=a,k[32767+f][0]=n-1+f;
r<<=1,n<<=1;
}
}
function e(){
for(var r=0;256>r;r++)K[r]=19595*r,K[r+256>>0]=38470*r,K[r+512>>0]=7471*r+32768,
K[r+768>>0]=-11059*r,K[r+1024>>0]=-21709*r,K[r+1280>>0]=32768*r+8421375,K[r+1536>>0]=-27439*r,
K[r+1792>>0]=-5329*r;
}
function v(r){
for(var n=r[0],a=r[1]-1;a>=0;)n&1<<a&&(E|=1<<F),a--,F--,0>F&&(255==E?(t(255),t(0)):t(E),
F=7,E=0);
}
function t(r){
D.push(J[r]);
}
function i(r){
t(r>>8&255),t(255&r);
}
function u(r,n){
var a,o,f,e,v,t,i,u,c,w=0,y=8,d=64;
for(c=0;y>c;++c){
a=r[w],o=r[w+1],f=r[w+2],e=r[w+3],v=r[w+4],t=r[w+5],i=r[w+6],u=r[w+7];
var A=a+u,h=a-u,b=o+i,g=o-i,l=f+t,s=f-t,m=e+v,p=e-v,j=A+m,M=A-m,_=b+l,C=b-l;
r[w]=j+_,r[w+4]=j-_;
var z=.707106781*(C+M);
r[w+2]=M+z,r[w+6]=M-z,j=p+s,_=s+g,C=g+h;
var N=.382683433*(j-C),S=.5411961*j+N,k=1.306562965*C+N,q=.707106781*_,B=h+q,D=h-q;
r[w+5]=D+S,r[w+3]=D-S,r[w+1]=B+k,r[w+7]=B-k,w+=8;
}
for(w=0,c=0;y>c;++c){
a=r[w],o=r[w+8],f=r[w+16],e=r[w+24],v=r[w+32],t=r[w+40],i=r[w+48],u=r[w+56];
var E=a+u,F=a-u,G=o+i,H=o-i,I=f+t,J=f-t,K=e+v,L=e-v,O=E+K,P=E-K,Q=G+I,R=G-I;
r[w]=O+Q,r[w+32]=O-Q;
var T=.707106781*(R+P);
r[w+16]=P+T,r[w+48]=P-T,O=L+J,Q=J+H,R=H+F;
var U=.382683433*(O-R),V=.5411961*O+U,W=1.306562965*R+U,X=.707106781*Q,Y=F+X,Z=F-X;
r[w+40]=Z+V,r[w+24]=Z-V,r[w+8]=Y+W,r[w+56]=Y-W,w++;
}
var $;
for(c=0;d>c;++c)$=r[c]*n[c],x[c]=$>0?$+.5|0:$-.5|0;
return x;
}
function c(){
i(65504),i(16),t(74),t(70),t(73),t(70),t(0),t(1),t(1),t(0),i(1),i(1),t(0),t(0);
}
function w(r,n){
i(65472),i(17),t(8),i(n),i(r),t(3),t(1),t(17),t(0),t(2),t(17),t(1),t(3),t(17),t(1);
}
function y(){
i(65499),i(132),t(0);
for(var r=0;64>r;r++)t(C[r]);
t(1);
for(var n=0;64>n;n++)t(z[n]);
}
function d(){
i(65476),i(418),t(0);
for(var r=0;16>r;r++)t(O[r+1]);
for(var n=0;11>=n;n++)t(P[n]);
t(16);
for(var a=0;16>a;a++)t(Q[a+1]);
for(var o=0;161>=o;o++)t(R[o]);
t(1);
for(var f=0;16>f;f++)t(T[f+1]);
for(var e=0;11>=e;e++)t(U[e]);
t(17);
for(var v=0;16>v;v++)t(V[v+1]);
for(var u=0;161>=u;u++)t(W[u]);
}
function A(){
i(65498),i(12),t(3),t(1),t(0),t(2),t(17),t(3),t(17),t(0),t(63),t(0);
}
function h(r,n,a,o,f){
for(var e,t=f[0],i=f[240],c=16,w=63,y=64,d=u(r,n),A=0;y>A;++A)B[L[A]]=d[A];
var h=B[0]-a;
a=B[0],0==h?v(o[0]):(e=32767+h,v(o[q[e]]),v(k[e]));
for(var b=63;b>0&&0==B[b];b--);
if(0==b)return v(t),a;
for(var g,l=1;b>=l;){
for(var s=l;0==B[l]&&b>=l;++l);
var m=l-s;
if(m>=c){
g=m>>4;
for(var p=1;g>=p;++p)v(i);
m=15&m;
}
e=32767+B[l],v(f[(m<<4)+q[e]]),v(k[e]),l++;
}
return b!=w&&v(t),a;
}
function b(){
for(var r=String.fromCharCode,n=0;256>n;n++)J[n]=r(n);
}
function g(r){
if(0>=r&&(r=1),r>100&&(r=100),M!=r){
var a=0;
a=Math.floor(50>r?5e3/r:200-2*r),n(a),M=r;
}
}
function l(){
r||(r=50),b(),o(),f(),e(),g(r);
}
var s,m,p,j,M,_=(Math.round,Math.floor),C=new Array(64),z=new Array(64),N=new Array(64),S=new Array(64),k=new Array(65535),q=new Array(65535),x=new Array(64),B=new Array(64),D=[],E=0,F=7,G=new Array(64),H=new Array(64),I=new Array(64),J=new Array(256),K=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];
this.encode=function(r,n){
n&&g(n),D=new Array,E=0,F=7,i(65496),c(),y(),w(r.width,r.height),d(),A();
var a=0,o=0,f=0;
E=0,F=7,this.encode.displayName="_encode_";
for(var e,t,u,b,l,M,_,C,z,k=r.data,q=r.width,x=r.height,B=4*q,J=0;x>J;){
for(e=0;B>e;){
for(l=B*J+e,M=l,_=-1,C=0,z=0;64>z;z++)C=z>>3,_=4*(7&z),M=l+C*B+_,J+C>=x&&(M-=B*(J+1+C-x)),
e+_>=B&&(M-=e+_-B+4),t=k[M++],u=k[M++],b=k[M++],G[z]=(K[t]+K[u+256>>0]+K[b+512>>0]>>16)-128,
H[z]=(K[t+768>>0]+K[u+1024>>0]+K[b+1280>>0]>>16)-128,I[z]=(K[t+1280>>0]+K[u+1536>>0]+K[b+1792>>0]>>16)-128;
a=h(G,N,a,s,p),o=h(H,S,o,m,j),f=h(I,S,f,m,j),e+=32;
}
J+=8;
}
if(F>=0){
var L=[];
L[1]=F+1,L[0]=(1<<F+1)-1,v(L);
}
i(65497);
var O="data:image/jpeg;base64,"+btoa(D.join(""));
return D=[],O;
},l();
}
return r.encode=function(n,a){
var o=new r(a);
return o.encode(n);
},r;
});