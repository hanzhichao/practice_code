define("ibeacon/profile_edit.js",["biz_web/ui/checkbox.js","common/wx/Cgi.js","biz_web/ui/dropdown.js","common/wx/Tips.js","biz_web/utils/upload.js"],function(e){
"use strict";
e("biz_web/ui/checkbox.js");
for(var l=e("common/wx/Cgi.js"),r=e("biz_web/ui/dropdown.js"),i=e("common/wx/Tips.js"),v=e("biz_web/utils/upload.js"),y=$(".js_verify_tip"),f=($(".js_upload_tip"),
$("#js_material")),a=($("#js_material_tpl"),{
verifytype_level1:"",
verifytype_level2:"",
apply_reason:"",
verifydoc_url:""
}),s=[{
verify_type_level1:"交通运输",
verify_type_level2:[{
verifytype_level2:"公交",
file:[{
label:"营业执照",
require:!0,
desc:"《企业法人营业执照》或《营业执照》"
}]
},{
verifytype_level2:"地铁",
file:[{
label:"营业执照",
require:!0,
desc:"《企业法人营业执照》或《营业执照》"
}]
},{
verifytype_level2:"水运",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《水路运输业务经营许可证》"
}]
},{
verifytype_level2:"航空",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《公共航空运输企业经营许可证》"
}]
},{
verifytype_level2:"道路",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《道路运输经营许可证》"
}]
},{
verifytype_level2:"铁路",
file:[{
label:"营业执照",
require:!0,
desc:"《企业法人营业执照》或《营业执照》"
}]
}]
},{
verify_type_level1:"代运营商",
verify_type_level2:[{
verifytype_level2:"代运营商",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
}]
},{
verify_type_level1:"休闲娱乐",
verify_type_level2:[{
verifytype_level2:"KTV",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《娱乐经营许可证》"
}]
},{
verifytype_level2:"书店",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《出版物经营许可证》"
}]
},{
verifytype_level2:"会议活动",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"培训拓展",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"宠物美容",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"展览展出",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"文化文艺",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"棋牌室",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"演出",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"电影",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"网吧",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《网络文化经营许可证》"
}]
},{
verifytype_level2:"美容美发",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《卫生许可证》"
}]
},{
verifytype_level2:"美甲",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《卫生许可证》"
}]
},{
verifytype_level2:"艺术写真",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"茶馆",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《餐饮服务许可证》"
}]
},{
verifytype_level2:"足疗按摩",
file:[{
label:"特殊许可证",
require:!0,
desc:"《特种行业许可证》（洗浴桑拿）；《医疗机构执业许可证》（推拿按摩）"
},{
label:"许可证",
require:!0,
desc:"《卫生许可证》"
}]
},{
verifytype_level2:"运动健身",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"酒吧/俱乐部",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《娱乐经营许可证》"
}]
}]
},{
verify_type_level1:"影视传媒",
verify_type_level2:[{
verifytype_level2:"广告商",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"广播电台",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《广播电视播出机构许可证》"
}]
},{
verifytype_level2:"电视台",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《广播电视播出机构许可证》"
}]
}]
},{
verify_type_level1:"房地产",
verify_type_level2:[{
verifytype_level2:"房产预售",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"建设用地规划许可证",
require:!0,
desc:"《建设用地规划许可证》"
},{
label:"建设工程规划许可证",
require:!0,
desc:"《建设工程规划许可证》"
},{
label:"建设工程开工证",
require:!0,
desc:"《建设工程开工证》"
},{
label:"国有土地使用证",
require:!0,
desc:"《国有土地使用证》"
},{
label:"商品房预售许可证",
require:!0,
desc:"《商品房预售许可证》"
}]
},{
verifytype_level2:"房屋中介",
file:[{
label:"营业执照",
require:!0,
desc:"包含房地产中介经营范围的《企业法人营业执照》"
}]
}]
},{
verify_type_level1:"旅游",
verify_type_level2:[{
verifytype_level2:"旅游景点",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"旅游服务平台",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"旅行社",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《旅行社业务经营许可证》"
}]
}]
},{
verify_type_level1:"智能硬件",
verify_type_level2:[{
verifytype_level2:"智能硬件",
file:[]
}]
},{
verify_type_level1:"机构组织",
verify_type_level2:[{
verifytype_level2:"事业单位",
file:[{
label:"事业单位法人证书",
require:!0,
desc:"《事业单位法人证书》"
}]
},{
verifytype_level2:"其他组织",
file:[{
label:"登记证书",
require:!0,
desc:"《民办非企业单位（法人）登记证书》/《民办非企业单位（合伙）登记证书》/<br>《民办非企业单位（个体）登记证书》/《基金会法人登记证书》"
}]
},{
verifytype_level2:"社会团体",
file:[{
label:"登记证书",
require:!0,
desc:"《社会团体法人登记证书》"
}]
},{
verifytype_level2:"行政机关",
file:[{
label:"机关设立的红头文件",
require:!0,
desc:"机关设立的红头文件"
}]
}]
},{
verify_type_level1:"生活服务",
verify_type_level2:[{
verifytype_level2:"医疗保健",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《医疗机构执业许可证》"
}]
},{
verifytype_level2:"婚庆服务",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"宠物医疗",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《动物诊疗许可证》"
}]
},{
verifytype_level2:"家政服务",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!1,
desc:"中介类上传《职业中介许可证》"
}]
},{
verifytype_level2:"快递",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《快递业务经营许可证》"
}]
},{
verifytype_level2:"教育学校",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《办学许可证》"
}]
},{
verifytype_level2:"汽车服务",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"物业管理",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"资质证书",
require:!0,
desc:"《物业管理企业资质证书》"
}]
},{
verifytype_level2:"留学中介",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"资格认定书",
require:!0,
desc:"《自费出国留学中介服务机构资格认定书》"
}]
},{
verifytype_level2:"货运",
file:[{
label:"许可证",
require:!0,
desc:"《运输经营许可证》，请根据运输方式（如道路、水路等）提交对应资质，且危险品运输暂不对外开放"
}]
}]
},{
verify_type_level1:"购物",
verify_type_level2:[{
verifytype_level2:"乐器",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"超市/便利店",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"保健食品",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《食品流通许可证》或《食品卫生许可证》或《进口保健食品批准证书》"
}]
},{
verifytype_level2:"化妆品",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《化妆品卫生许可证》或《进口化妆品卫生许可证》"
}]
},{
verifytype_level2:"图书报刊杂志",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《出版物经营许可证》"
}]
},{
verifytype_level2:"家纺家装",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"数码家电",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"普通食品",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《食品卫生许可证》或《食品流通许可证》"
}]
},{
verifytype_level2:"服饰",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"母婴用品",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!1,
desc:"奶粉上传《食品流通许可证》或《食品卫生许可证》"
}]
},{
verifytype_level2:"珠宝配饰",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"百货商场",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"综合电商",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《增值电信业务经营许可证》"
}]
},{
verifytype_level2:"药房/药店",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"药品经营许可证",
require:!0,
desc:"《药品经营许可证》"
},{
label:"医疗器械经营许可证",
require:!1,
desc:"医疗器械上传《医疗器械经营许可证》"
}]
},{
verifytype_level2:"运动户外",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"酒类",
file:[{
label:"食品许可证",
require:!0,
desc:"《食品流通许可证》或《食品卫生许可证》"
},{
label:"生产许可证",
require:!0,
desc:"《酒类生产许可证》或《全国工业品生产许可证》"
},{
label:"其他证件",
require:!1,
desc:"《酒类流通备案登记证》或《酒类零售许可证》或《酒类批发许可证》，生产商可不上传此类证件"
}]
},{
verifytype_level2:"钟表眼镜",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!1,
desc:"隐形眼镜上传《医疗器械经营许可证》"
}]
},{
verifytype_level2:"鞋类箱包",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
},{
verifytype_level2:"鲜花礼品",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
}]
},{
verify_type_level1:"通信",
verify_type_level2:[{
verifytype_level2:"电信运营商",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《电信业务经营许可证》"
}]
}]
},{
verify_type_level1:"酒店",
verify_type_level2:[{
verifytype_level2:"度假村",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《旅馆业特种行业许可证》"
}]
},{
verifytype_level2:"快捷酒店",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《旅馆业特种行业许可证》"
}]
},{
verifytype_level2:"星级酒店",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《旅馆业特种行业许可证》"
}]
}]
},{
verify_type_level1:"金融",
verify_type_level2:[{
verifytype_level2:"保险",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《经营保险业务许可证》"
}]
},{
verifytype_level2:"基金",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"基金销售业务资格证",
require:!0,
desc:"《基金销售业务资格证》"
},{
label:"基金管理资格证书",
require:!0,
desc:"《基金管理资格证书》"
}]
},{
verifytype_level2:"证券",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《证券经营机构营业许可证》"
}]
},{
verifytype_level2:"银行",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
}]
}]
},{
verify_type_level1:"餐饮",
verify_type_level2:[{
verifytype_level2:"休闲小吃",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《餐饮服务许可证》"
}]
},{
verifytype_level2:"咖啡厅",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《餐饮服务许可证》"
}]
},{
verifytype_level2:"外卖",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《食品卫生许可证》"
}]
},{
verifytype_level2:"快餐",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《餐饮服务许可证》"
}]
},{
verifytype_level2:"自助餐",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《餐饮服务许可证》"
}]
},{
verifytype_level2:"面包甜点",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《餐饮服务许可证》"
}]
},{
verifytype_level2:"餐厅",
file:[{
label:"营业执照",
require:!0,
desc:"《营业执照》"
},{
label:"许可证",
require:!0,
desc:"《餐饮服务许可证》"
}]
}]
}],_=s,t=[],c=[],u=0;u<_.length;u++){
t[u]={
name:_[u].verify_type_level1,
value:u
},c[u]=[];
for(var d=0;d<_[u].verify_type_level2.length;d++)c[u][d]={
name:_[u].verify_type_level2[d].verifytype_level2,
value:d
};
}
new r({
container:"#js_dropdown_level_1",
data:t,
callback:function(e,l){
a.verifytype_level1=l,a.verifytype_level2="",f.html(""),new r({
container:"#js_dropdown_level_2",
data:c[e],
callback:function(l,r){
y.hide(),a.verifytype_level2=r,f.html(template.render("js_material_tpl",{
files:s[e].verify_type_level2[l].file
}));
for(var _=0;_<s[e].verify_type_level2[l].file.length;_++)!function(e){
v.uploadCdnFile({
container:".js_upload_"+e,
type:2,
multi:!1,
onAllComplete:function(){
$(".js_upload_"+e).text("重新上传"),$(".js_upload_tip_"+e).hide();
},
onComplete:function(l,r,v,y){
switch(+y.base_resp.ret){
case 0:
i.suc("上传成功"),console.log(y),$(".js_upload_preview_"+e).show().html('<a href="{href}" target="_blank"><img class="upload_preview_pic" src="{src}"></a>'.format({
href:y.content,
src:y.content
}));
break;

case 1:
i.err("图片太大");
break;

case-11:
i.err("请上传合法的图片格式");
break;

default:
i.err("上传图片失败");
}
}
});
}(_);
}
});
}
}),$("#js_agree").checkbox({
type:"checkbox",
onChanged:function(){
"on"==this.values()[0]?$("#js_submit").enable():$("#js_submit").disable();
}
}),$("#js_submit").on("click",function(){
if($(this).hasClass("btn_disabled"))return!1;
if(!a.verifytype_level1||!a.verifytype_level2)return y.show(),!1;
for(var e=$(".js_require"),r=0;r<e.length;r++)if(!e.eq(r).find("a").length)return e.eq(r).next().show(),
!1;
var v=[];
$(".upload_preview_pic").each(function(){
v.push(window.encodeURIComponent($(this).attr("src")));
}),a.apply_reason=$("#js_reason").val(),a.verifydoc_url=v.join(";"),l.post({
url:"/merchant/beaconapplysubmit?action=submit",
data:a,
success:function(e){
0==e.base_resp.ret?(i.suc("提交成功"),location.href=wx.url("/cgi-bin/plugindetails?t=service/profile&pluginid=10036&action=intro")):i.err("系统错误");
}
});
});
});